<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	 
<mapper namespace="mapper.food">
	<resultMap type="foodDTO" id="foodResult">
		<result property="fd_no" column="fd_no" />
		<result property="fd_name" column="fd_name" />
		<result property="fd_address" column="fd_address" />
		<result property="fd_open" column="fd_open" />
		<result property="fd_colse" column="fd_colse" />
		<result property="fd_score" column="fd_score" />
		<result property="fd_category" column="fd_category" />
	</resultMap>
	

	<select id="selectfd_no" parameterType="int" resultType="com.spring.project.food.dto.FoodDTO">
		<![CDATA[
			select * from food where fd_no=#{fn_no}
		]]>
	</select>
	
	<insert id="addReview" parameterType="com.spring.project.food.dto.ReviewDTO">
		<![CDATA[
			insert into review (re_no, re_score, re_content, id) 
			values(re_seq.nextval, #{re_score}, #{re_content}, 'aaa') 
		]]>
	</insert>
	
 	<insert id="dbInsert" parameterType="com.spring.project.food.dto.FoodDTO">
		<![CDATA[
			insert into food values(fd_seq.nextval, #{fd_title}, #{fd_info}, 
			#{fd_address}, #{fd_roadAddress}, #{fd_phoneNo}, #{fd_imgPath}, #{fd_thumbnailPath}, #{fd_category})		
		]]>
	</insert>
	
	<select id="foodList" resultType="com.spring.project.food.dto.FoodDTO">
		<![CDATA[
			select * from food where not fd_category like '%' || '카페' || '%'
		]]>
	</select>
	<select id="cafeList" resultType="com.spring.project.food.dto.FoodDTO">
		<![CDATA[
			select * from food where fd_category like '%' || '카페' || '%'
		]]>
	</select>
</mapper>

